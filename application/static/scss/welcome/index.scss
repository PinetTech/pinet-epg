$movie-sel: get-module("movie", "selector");
$movielist-sel: get-module("movielist", "selector");
$tab-sel: get-module("tab", "selector");
$menu-sel: get-module("menu", "selector");
$slide-sel: get-module("slide", "selector");
$nav-sel: get-module("nav", "selector");

%humberger-line {
    cursor: pointer;
    border-radius: 1px;
    height: 3px;
    width: 25px;
    background: #4A4A4A;
    display: block;
    content: '';                
}

.actionbar {
    @extend %hflexbox;
    align-items: center;
    &__brand {
    }
    &__search-form {
        margin-left: auto;      
        .form-group {
            display: flex;      
            > .form-label {
                display: none;
            }
            > .form-input {
                @extend %hflexbox;
                align-items: stretch;
                // border: 1px solid #d3d3d3;
            }
            > .form-input:after {
                content: $fa-var-search;
                font-family: FontAwesome;
                font-size: 20px;
                display: flex;
                justify-content: center;
                align-items: center;
                background-color: #e01818;
                color: #ffffff;
                margin: 0;
            }  
        }        
    }
    &__trigger {
        display: none;
        box-sizing: content-box;
        width: 40px;
        height: 40px;
        padding-top: 5px;
        padding-bottom: 5px;      
        padding-left: 10px;  
        padding-right: 10px;
        background-color: #ffffff;
        position: relative;
        > span {

            @extend %humberger-line;
            transform: translateY(0px);

            &:before {
                @extend %humberger-line;
                transform: translateY(-9px);
            }

            &:after {
                @extend %humberger-line;
                transform: translateY(6px);
            }
        }   

    }
}


@mixin content-width() {
    @include max-screen(1280px) {
        width: 100% !important;
    }
    @include screen(1280px, 1295px) {
        width: 1265px !important;
    }
    @include min-screen(1295px) {
        width: res(2560px) !important;   
    }
}

@mixin section_welcome_index($args...) {   
    @include device-desktop() {
        #{$menu-sel} {
            background-image: linear-gradient(-180deg, #565656 0%, #363636 98%);
            > li > a {
                font-size: 14px;
                color: #F0F0F0;
                line-height: 19px;        
            }
            > li:hover > a {
                background: #E01818;
            }
            li > .sub-navi {
                background: rgba(#ffffff, .9);
                box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.50);        
                > li > a {
                    font-size: 13px;
                    color: #1E1E1E;
                    line-height: 18px;
                }
            }
        }

        .actionbar {
            height: calc-res(116px);
            padding: {
                left: calc-res(40px);
                right: calc-res(40px);
            }
            &__brand {
                // width: res(202px, 90px);
                // height: res(76px, 34px);
                width: calc-res(240px);
                height: calc-res(76px);
                max-width: auto;
            }
            &__search-form {
                .form-group {
                    > .form-input input {
                        // width: res(700px, 313px);
                        // height: res(70px, 31px);             
                        width: calc-res(700px);
                        height: calc-res(70px);
                        font-size: 14px;
                        color: #A4A4A4;
                        line-height: 19px;       
                        // padding-left: res(40px, 18px);
                        padding-left: calc-res(40px);
                    }                
                    > .form-input:after {
                        // width: res(100px, 44.25px);
                        width: calc-res(100px);
                    }
                }
            }
        }
        #{$menu-sel} {
            height: res(90px, 39.5px);
            > li > a {
                display: flex;
                justify-content: center;
                align-items: center;
                height: res(90px, 40px);
                padding-left: res(66px, 29px);
                padding-right: res(66px, 29px);
            }
            li > .sub-navi {
                padding-left: res(120px, 53px);
                padding-right: res(120px, 53px);
                height: res(100px, 44.25px);
                li > a {
                    display: flex;
                    justify-content: center;
                    align-items: center;                
                    height: res(100px, 44.25px);
                    padding: 0;
                    margin-right: res(42px, 18.5px);
                }
                li > a:hover {
                    color: #e01818;
                    background-color: transparent;                
                }
            }
        }
        #{$slide-sel} {
            width: 100%;
            height: res(900px, 396px);
            .swiper-slide {
                .slide__title {
                    display: inline-flex;
                    font-size: res(94.9px, 42px);
                    color: #F4F4F4;
                    line-height: 66px;
                    text-shadow: 0px 4px 2px rgba(0,0,0,0.50);
                    margin: 0;
                    left: res(219px, 96px);
                    top: res(410px, 180.4px);
                }
            }
            .swiper-pagination {
                height: res(186px, 82px) !important;
                background-image: linear-gradient(-180deg, rgba(#565656, .65) 0%, rgba(#565656, .65) 98%);
                bottom: - res(51px, 22px) !important;
            }   
            .swiper-pagination-bullet {
                width: res(260px, 114.4px);
                height: res(178px, 78.32px);
                position: relative;
                top: 0;
                margin: 0 !important;
                border: 2px solid rgba(#FFFFFF, .65);
            }
            .swiper-pagination-bullet-active {
                width: res(260px, 114.4px);
                top: - res(42px, 18.48px);
            }
        }
        #{$movielist-sel} {
            @include content-width();
            margin: 0 auto;        
            // padding-top: res(104px, 45.8px);
            padding-top: calc-res(104px);
            @include movielist__head() {
                // padding-bottom: res(24px, 10.7px);
                padding-bottom: calc-res(24px);
            }
            @include movielist__body() {
                // padding-top: res(52px, 23px);
                padding-top: calc-res(52px);
            }
            &__title {
                // padding-left: res(40px, 17.6px);
                padding-left: calc-res(40px);
            }
            &:nth-of-type(1) {
                // padding-top: res(50px, 22px);
                padding-top: calc-res(50px);
            }
            &:last-of-type {
                // padding-bottom: res(150px, 66px);
                padding-bottom: calc-res(150px);
            }
            #{$movie-sel} {
                padding-top: res(12px, 5.28px);
                padding-bottom: res(14px, 6.2px);
                .movie__title {
                    padding-left: calc-res(36px);                    
                    padding-right: calc-res(36px);
                    line-height: 23px;
                }
                .movie__views {
                    padding-left: calc-res(36px);                    
                    padding-right: calc-res(36px);
                    line-height: 23px;
                }
            }
        } 
        %flex-end-hflexbox {
            @extend %hflexbox;
            justify-content: flex-end;
            line-height: 20px;
        }
        footer {
            background: #FAFAFA;            
            > * {
                @extend %flex-end-hflexbox;
                @include content-width();
                margin: 0 auto;
            }
            font-size: 13px;
            color: #1C1C1C;
            line-height: 13px;
            .site-map {
                list-style: none;
                padding-bottom: calc-res(48px);
                > li {
                    margin-left: calc-res(66px);
                }
            }
            padding-top: calc-res(166px);
            padding-bottom: calc-res(140px);
        }       
    }
    @include device-mobile() {
        @function mobile-to-pc($res, $mobile-width: 414) {
            @return $res / $mobile-width * strip-unit($max-screen-width);
        }
        .actionbar {
            justify-content: space-between;
            &__brand {
                width: res(mobile-to-pc(127px));
                max-width: 127px;
                padding-left: 10px;
            }   
            &__search-form {
                margin-left: 0;
                .form-input > input {
                    width: res(mobile-to-pc(193px));
                    // position: absolute;
                    height: 30px;
                    padding-left: 10px;
                    // left: auto;
                    // right: 85px;
                }
                .form-group {
                    > .form-input:after {
                        width: 40px;
                    }
                }
            }
            &__trigger {
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }
        #{$nav-sel} {
            &.full-screen {
                .actionbar {
                    &__trigger {
                        background-color: #f3f3f3;
                    }
                }
            }
        }
        #{$menu-sel} {
            height: res(90px);
            width: 100%;
            padding-left: 15px;
            padding-right: 15px;

            > li {
                position: relative;
            }

            > li > a {
                width: res(mobile-to-pc(160px));
                height: res(mobile-to-pc(120px));
                @include position-center-center(absolute);
                background: #FBFBFB;
                border: 1px solid #DCDCDC;
                border-radius: 4px;
                display: flex;
                justify-content: center;
                align-items: center;
                font-size: 20px;
                color: #212121 !important;
                line-height: 28px;                                
            }

            @function php_static_url($url) {
                @return php(Clips\static_url, unquote($url));
            }

            @function php_img_url($url) {
                $image-src: unquote($url);
                @return php(Clips\site_url, unquote("responsive/size/#{$image-src}"));
            }

            > li > a:before {
                content: "";
                display: block;
                width: res(mobile-to-pc(45px));
                height: res(mobile-to-pc(45px));
                background-size: contain;
                background-repeat: no-repeat;
                margin-right: res(mobile-to-pc(10px));
            }

            $menu-icons: "movie", "tvseries", "variety", "animation", "education", "sports", "documentary", "micro-film";
            
            $menu-icons-length: length($menu-icons);
            @for $i from 1 through $menu-icons-length {
                > li:nth-child(#{$i}) > a:before {
                    $m: nth($menu-icons, $i);
                    background-image: url(php_img_url("45/icons/menu-#{$m}.png"));
                }
            }

            > li:hover > a{
                background-color: #fbfbfb;
            }

            &.open {
                height: calc(100% - 50px);
                background: #F3F3F3;
            }
        }      
        #{$movielist-sel} {
            @include movielist__head() {
                padding-top: res(65px);
                padding-bottom: res(85px);
                .movielist__viewall {
                    padding-right: res(65px);
                }
            }  
            @include movielist__body() {
                padding: res(65px) {
                    bottom: 0;
                }
                #{$movie-sel} {
                    position: relative;
                    &:nth-child(n+3) {
                        margin-bottom: 0;
                    }
                    &:nth-child(n+5) {
                        display: none;
                    }                    
                    .movie__title {
                        text-align: center;
                        background: rgba(#414141, 0.74);
                        color: #ffffff;
                        @include position(absolute, 0, 0, 0, 0);
                        top: auto;
                        font-size: 14px;
                        line-height: 19px;                        
                        padding-top: 3px;
                        padding-bottom: 3px;
                    }                    
                    .count-number {
                        &__text {
                            display: none;
                        }
                    }
                }
            }          
            .movielist__title {
                padding-left: 10px;
            }            
        }      
        #{$slide-sel} {
            width: 100%;
            height: res(1370px, 192px);
            .swiper-slide {
                .slide__title {
                    color: #ffffff;
                }
            }
        }         
    }
}

#{$movielist-sel}{
    #{$movie-sel} {
        width: 14%;
        .count-number {
            font-size: 10px;
            color: #6E6E6E;
            line-height: 12px;
            .count-number__text:before {
                content: "\f16a";
                font-family: FontAwesome;
                margin-right: 5px;
            }          
        }           
    }
}

#{$tab-sel} {
    &__nav {
        .swiper-slide {
            width: 33.3%;   
        }       
        .swiper-slide-active {
            color: #ef1717;
        }
    }
    &__thumbs {
        border-bottom: 1px solid #dedede;
        .swiper-slide {
            width: 33.3%;
            height: 3px;
        }
        .swiper-slide-active {
            background-color: #e01818;
        }
    }
    &__content {
        height: 450px;
        .swiper-slide {
            width: 100%;
        }
    }
}



